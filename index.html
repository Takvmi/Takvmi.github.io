
<!DOCTYPE html>
<html>

<title>Tanase Teodor</title>

<head>
<style>
 
</style>
</head>

<body>

<canvas id="myCanvas" style="
padding-left: 0;
padding-right: 0;
margin-left: auto;
margin-right: auto;
display: block;
 border:2px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>

<script>

document.addEventListener('keydown', function(event) {
    if(event.keyCode == 37) {
        ball.x--;
    }
    else if(event.keyCode == 39) {
        ball.x++;
    }
});


 (function() {
	
	window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(f){window.setTimeout(f,1e3/60)}}();

	var canvas = document.querySelector('canvas');
	var ctx = canvas.getContext('2d');
	var W = canvas.width = 1200;
    var H = canvas.height = 800;
  
	var rightPressed = false;
    var leftPressed = false;
    var upPressed = false;
    var downPressed = false;

    var jumping = false;
    var peaked = false;
    var jmpHeight = 40;
    var count = 0;
  
  function keyDownHandler(event) {
    if(event.keyCode == 39) {
        rightPressed = true;
    }
    else if(event.keyCode == 37) {
        leftPressed = true;
    }
    if(event.keyCode == 40) {
    	downPressed = true;
    }
    else if(event.keyCode == 38) {
    	upPressed = true;
    }
}

function keyUpHandler(event) {
    if(event.keyCode == 39) {
        rightPressed = false;
    }
    else if(event.keyCode == 37) {
        leftPressed = false;
    }
    if(event.keyCode == 40) {
    	downPressed = false;
    }
    else if(event.keyCode == 38) {
    	upPressed = false;
    }
}

document.addEventListener('keydown', keyDownHandler, false);
document.addEventListener('keyup', keyUpHandler, false);

	
	function Square() {
		this.radius = 50;
		this.x = canvas.width / 2;
		this.y = canvas.height - this.radius;
		
		this.draw = function(ctx) {

			ctx.beginPath();
			
      ctx.rect(this.x,this.y,50,50);
      ctx.fillStyle = "gray";
			ctx.fill();
		}
	}
	
  var square = new Square();
	
	(function renderFrame() {
		requestAnimationFrame(renderFrame);
		ctx.clearRect(0, 0, W, H);
    
    if(rightPressed) {
        square.x += 5;
    }
    else if(leftPressed) {
        square.x -= 5;
    }
    if(upPressed && !jumping) {
        jumping = true;
        peaked = false;
    }

    if(jumping && !peaked)
    {
        square.y -= 5;
        if(count<jmpHeight)
            count++;
        else
        {
            count = 0;
            peaked = true;
        }
        
    }
    else if(jumping && peaked)
    {
        square.y += 5;
    }
    if(square.y+50 == canvas.height)
    {
        jumping = false;
    }
		
    square.draw(ctx);
	}());

}());


</script>



</body>

</html>